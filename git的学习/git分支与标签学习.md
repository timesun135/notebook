- [git的分支](#git的分支)
  - [创建分支](#创建分支)
  - [切换分支](#切换分支)
  - [创建并切换分支](#创建并切换分支)
  - [查看分支](#查看分支)
  - [合并分支（将分支合并到当前分支）](#合并分支将分支合并到当前分支)
  - [删除分支](#删除分支)
  - [删除未合并的分支](#删除未合并的分支)
  - [查看分支合并情况](#查看分支合并情况)
  - [分支管理策略](#分支管理策略)
  - [bug分支](#bug分支)
  - [feature分支](#feature分支)
- [git的标签](#git的标签)
  - [创建标签](#创建标签)
  - [查看标签](#查看标签)
  - [删除标签](#删除标签)
  - [推送标签到远程](#推送标签到远程)
  - [推送全部未推送的标签到远程](#推送全部未推送的标签到远程)
  - [检出标签](#检出标签)
  - [标签管理](#标签管理)
  - [删除远程标签](#删除远程标签)
  - [标签打错](#标签打错)
  - [查看标签信息](#查看标签信息)

# git的分支

**现在用不上，在代码添加一个新功能，但是不确定是否需要，所以先创建一个分支，在分支上开发，如果需要再合并到主分支上**

## 创建分支
`git branch 分支名`
## 切换分支
`git checkout 分支名 或者 git switch <name>`
## 创建并切换分支
`git checkout -b 分支名 或者 git switch -c <name>`
## 查看分支
`git branch`
## 合并分支（将分支合并到当前分支）
`git merge 分支名`
## 删除分支
`git branch -d 分支名`
## 删除未合并的分支
`git branch -D 分支名`
## 查看分支合并情况
`git log --graph --pretty=oneline --abbrev-commit`

## 分支管理策略
合并分支时，如果可能，请把所有分支的提交历史都保留下来。
合并分支时，加上`--no-ff`参数就可以用普通模式合并，合并后的历史有分支，能看出来曾经做过合并，而`fast forward`合并就看不出来曾经做过合并。
`git merge --no-ff -m "merge with no-ff" 分支名`

## bug分支
修复bug时，我们会通过创建新的bug分支进行修复，然后合并，最后删除；当手头工作没有完成时，先把工作现场`git stash`一下，然后去修复bug，修复后，再`git stash pop`，回到工作现场。

## feature分支
开发一个新功能时，最好新建一个分支；如果要丢弃一个没有被合并过的分支，可以通过`git branch -D <name>`强行删除。



# git的标签

标签（tag）是版本库的一个快照，其实就是指向某个commit的指针

## 创建标签
`git tag 标签名`
## 查看标签
`git tag`
## 删除标签
`git tag -d 标签名`
## 推送标签到远程
`git push origin 标签名`
## 推送全部未推送的标签到远程
`git push origin --tags`
## 检出标签
`git checkout 标签名`
## 标签管理
`git tag -a 标签名 -m "标签说明"`
`git show 标签名`
## 删除远程标签
先删除本地标签，再删除远程标签
`git tag -d 标签名`
`git push origin :refs/tags/标签名`
## 标签打错
`git tag -d 标签名`
`git tag 标签名 commit id`
`git push origin 标签名`
## 查看标签信息
`git show 标签名`
